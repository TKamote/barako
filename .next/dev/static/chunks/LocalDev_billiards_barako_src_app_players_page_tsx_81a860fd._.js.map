{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/davidonquit/LocalDev/billiards/barako/src/app/players/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  collection,\n  getDocs,\n  addDoc,\n  updateDoc,\n  doc,\n} from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\ninterface Player {\n  id: string;\n  name: string;\n  email: string;\n  phone: string;\n  skillLevel: \"beginner\" | \"intermediate\" | \"advanced\" | \"expert\";\n  rating: number;\n  points: number;\n  tournamentsPlayed: number;\n  wins: number;\n  status: \"active\" | \"inactive\";\n  photoURL?: string;\n}\n\nconst PlayersPage = () => {\n  const { isManager } = useAuth();\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showLoginPrompt, setShowLoginPrompt] = useState(false);\n\n  // Load players from Firestore on component mount\n  useEffect(() => {\n    const loadPlayers = async () => {\n      try {\n        setLoading(true);\n        const playersCollection = collection(db, \"players\");\n        const playersSnapshot = await getDocs(playersCollection);\n        const playersList = playersSnapshot.docs.map((doc) => {\n          const data = doc.data();\n          return {\n            id: doc.id,\n            ...data,\n            points: data.points || 0, // Ensure points exists with default value\n          };\n        }) as Player[];\n\n        // Sort players by points in descending order (higher points = better rank)\n        const sortedPlayers = playersList.sort((a, b) => b.points - a.points);\n        setPlayers(sortedPlayers);\n      } catch (error) {\n        console.error(\"Error loading players:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadPlayers();\n  }, []);\n\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [editingPlayer, setEditingPlayer] = useState<Player | null>(null);\n  const [newPlayer, setNewPlayer] = useState({\n    name: \"\",\n    rank: \"\",\n    points: \"\",\n    skillLevel: \"beginner\" as\n      | \"beginner\"\n      | \"intermediate\"\n      | \"advanced\"\n      | \"expert\",\n    photo: null as File | null,\n  });\n\n  const handleCreatePlayer = async () => {\n    // Check for duplicate name\n    const duplicateName = players.find(\n      (player) => player.name.toLowerCase() === newPlayer.name.toLowerCase()\n    );\n\n    if (duplicateName) {\n      alert(`Player with name \"${newPlayer.name}\" already exists!`);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const playerData = {\n        name: newPlayer.name,\n        email: \"\", // Default empty email\n        phone: \"\", // Default empty phone\n        skillLevel: newPlayer.skillLevel,\n        rating: Number(newPlayer.rank) || 0,\n        points: Number(newPlayer.points) || 0,\n        tournamentsPlayed: 0,\n        wins: 0,\n        status: \"active\",\n        photoURL: \"\", // Will be implemented later with Firebase Storage\n      };\n\n      // Add to Firestore\n      const docRef = await addDoc(collection(db, \"players\"), playerData);\n\n      // Update local state with new player including Firestore ID\n      const newPlayerWithId: Player = {\n        id: docRef.id,\n        ...playerData,\n        status: \"active\" as const,\n      };\n\n      // Re-sort players after adding (by points descending)\n      const updatedPlayers = [...players, newPlayerWithId].sort(\n        (a, b) => b.points - a.points\n      );\n      setPlayers(updatedPlayers);\n      setNewPlayer({\n        name: \"\",\n        rank: \"\",\n        points: \"\",\n        skillLevel: \"beginner\",\n        photo: null,\n      });\n      setShowCreateForm(false);\n    } catch (error) {\n      console.error(\"Error creating player:\", error);\n      const errorMessage =\n        error instanceof Error ? error.message : \"Unknown error\";\n      alert(\n        `Failed to create player: ${errorMessage}\\n\\nCheck the console for more details.`\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditPlayer = (player: Player) => {\n    if (!isManager) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    console.log(\"Editing player:\", player);\n    setEditingPlayer(player);\n    setNewPlayer({\n      name: player.name,\n      rank: player.rating?.toString() || \"\",\n      points: player.points?.toString() || \"\",\n      skillLevel: player.skillLevel,\n      photo: null,\n    });\n    setShowCreateForm(true);\n  };\n\n  const handleUpdatePlayer = async () => {\n    if (editingPlayer) {\n      // Check for duplicate name (excluding the current player being edited)\n      const duplicateName = players.find(\n        (player) =>\n          player.name.toLowerCase() === newPlayer.name.toLowerCase() &&\n          player.id !== editingPlayer.id\n      );\n\n      if (duplicateName) {\n        alert(`Player with name \"${newPlayer.name}\" already exists!`);\n        return;\n      }\n\n      try {\n        setLoading(true);\n\n        // Update in Firestore\n        const playerRef = doc(db, \"players\", editingPlayer.id);\n        await updateDoc(playerRef, {\n          name: newPlayer.name,\n          rating: Number(newPlayer.rank) || 0,\n          points: Number(newPlayer.points) || 0,\n          skillLevel: newPlayer.skillLevel,\n        });\n\n        // Update local state\n        const updatedPlayers = players.map((player) =>\n          player.id === editingPlayer.id\n            ? {\n                ...player,\n                name: newPlayer.name,\n                rating: Number(newPlayer.rank) || 0,\n                points: Number(newPlayer.points) || 0,\n                skillLevel: newPlayer.skillLevel,\n              }\n            : player\n        );\n\n        // Re-sort players after updating (by points descending)\n        const sortedPlayers = updatedPlayers.sort(\n          (a, b) => b.points - a.points\n        );\n        setPlayers(sortedPlayers);\n        setEditingPlayer(null);\n        setNewPlayer({\n          name: \"\",\n          rank: \"\",\n          points: \"\",\n          skillLevel: \"beginner\",\n          photo: null,\n        });\n        setShowCreateForm(false);\n      } catch (error) {\n        console.error(\"Error updating player:\", error);\n        alert(\"Failed to update player. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setEditingPlayer(null);\n    setNewPlayer({\n      name: \"\",\n      rank: \"\",\n      points: \"\",\n      skillLevel: \"beginner\",\n      photo: null,\n    });\n    setShowCreateForm(false);\n  };\n\n  const handleAddPlayerClick = () => {\n    if (!isManager) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    setShowCreateForm(true);\n  };\n\n  const handleDeletePlayer = async () => {\n    if (!editingPlayer) return;\n\n    const confirmDelete = window.confirm(\n      `Are you sure you want to delete \"${editingPlayer.name}\"? This action cannot be undone.`\n    );\n\n    if (!confirmDelete) return;\n\n    try {\n      setLoading(true);\n\n      // Delete from Firestore\n      const { deleteDoc } = await import(\"firebase/firestore\");\n      const playerRef = doc(db, \"players\", editingPlayer.id);\n      await deleteDoc(playerRef);\n\n      // Update local state\n      const updatedPlayers = players.filter((p) => p.id !== editingPlayer.id);\n      setPlayers(updatedPlayers);\n\n      setEditingPlayer(null);\n      setNewPlayer({\n        name: \"\",\n        rank: \"\",\n        points: \"\",\n        skillLevel: \"beginner\",\n        photo: null,\n      });\n      setShowCreateForm(false);\n      alert(\"Player deleted successfully!\");\n    } catch (error) {\n      console.error(\"Error deleting player:\", error);\n      alert(\"Failed to delete player. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Players</h1>\n            {isManager && (\n              <p className=\"text-sm text-gray-600 mt-1\">\n                ‚úèÔ∏è Click on any player to edit or delete\n              </p>\n            )}\n          </div>\n          <button\n            onClick={handleAddPlayerClick}\n            disabled={loading}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors disabled:opacity-50\"\n          >\n            ‚ûï Add Player\n          </button>\n        </div>\n\n        {loading && players.length === 0 && (\n          <div className=\"text-center py-12\">\n            <div className=\"text-4xl mb-4\">‚è≥</div>\n            <p className=\"text-gray-600\">Loading players...</p>\n          </div>\n        )}\n\n        {/* Login Prompt Modal */}\n        {showLoginPrompt && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\">\n              <div className=\"text-center\">\n                <div className=\"text-6xl mb-4\">üîí</div>\n                <h2 className=\"text-2xl font-bold mb-2 text-gray-900\">\n                  Manager Login Required\n                </h2>\n                <p className=\"text-gray-600 mb-6\">\n                  Only logged-in managers can add or edit players. Please login\n                  to continue.\n                </p>\n                <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n                  <button\n                    onClick={() => {\n                      setShowLoginPrompt(false);\n                      window.location.href = \"/tournament\"; // Redirect to tournament page where login button is\n                    }}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors\"\n                  >\n                    Go to Login\n                  </button>\n                  <button\n                    onClick={() => setShowLoginPrompt(false)}\n                    className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-2 rounded-lg transition-colors\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Create Player Modal */}\n        {showCreateForm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <h2 className=\"text-xl font-bold mb-4\">\n                {editingPlayer ? \"Edit Player\" : \"Add New Player\"}\n              </h2>\n              <div className=\"text-xs text-gray-500 mb-2\">\n                Debug: {JSON.stringify(newPlayer)}\n              </div>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Player Photo (Optional)\n                  </label>\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={(e) => {\n                      const file = e.target.files?.[0] || null;\n                      setNewPlayer({\n                        ...newPlayer,\n                        photo: file,\n                      });\n                    }}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Photo upload will be implemented with Firebase Storage\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Player Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newPlayer.name}\n                    onChange={(e) => {\n                      console.log(\"Name changing to:\", e.target.value);\n                      setNewPlayer({ ...newPlayer, name: e.target.value });\n                    }}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black\"\n                    placeholder=\"Enter player name\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Rating (Optional)\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={newPlayer.rank}\n                    onChange={(e) => {\n                      setNewPlayer({\n                        ...newPlayer,\n                        rank: e.target.value,\n                      });\n                    }}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black\"\n                    placeholder=\"e.g., 1500 (skill rating)\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    This is a skill rating, not the rank position\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Points ‚≠ê\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={newPlayer.points}\n                    onChange={(e) => {\n                      setNewPlayer({\n                        ...newPlayer,\n                        points: e.target.value,\n                      });\n                    }}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black\"\n                    placeholder=\"Enter tournament points\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Ranking is determined by points (higher = better)\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Skill Level\n                  </label>\n                  <select\n                    value={newPlayer.skillLevel}\n                    onChange={(e) =>\n                      setNewPlayer({\n                        ...newPlayer,\n                        skillLevel: e.target.value as\n                          | \"beginner\"\n                          | \"intermediate\"\n                          | \"advanced\"\n                          | \"expert\",\n                      })\n                    }\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black\"\n                  >\n                    <option value=\"beginner\">Beginner</option>\n                    <option value=\"intermediate\">Intermediate</option>\n                    <option value=\"advanced\">Advanced</option>\n                    <option value=\"expert\">Expert</option>\n                  </select>\n                </div>\n              </div>\n              <div className=\"flex justify-between items-center mt-6\">\n                <div>\n                  {editingPlayer && (\n                    <button\n                      onClick={handleDeletePlayer}\n                      disabled={loading}\n                      className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg disabled:opacity-50 flex items-center gap-2\"\n                    >\n                      üóëÔ∏è Delete Player\n                    </button>\n                  )}\n                </div>\n                <div className=\"flex space-x-3\">\n                  <button\n                    onClick={handleCancelEdit}\n                    className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={\n                      editingPlayer ? handleUpdatePlayer : handleCreatePlayer\n                    }\n                    disabled={loading}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50\"\n                  >\n                    {editingPlayer ? \"Update Player\" : \"Add Player\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Players Table */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column - Players 1-32 */}\n          <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\n            <div className=\"bg-gray-50 px-4 py-3 border-b\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Players 1-25\n              </h3>\n            </div>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-16\">\n                      Rank\n                    </th>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-16\">\n                      Photo\n                    </th>\n                    <th className=\"px-3 py-2 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                      Players\n                    </th>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-20\">\n                      Points\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {players.slice(0, 25).map((player, i) => (\n                    <tr\n                      key={player.id}\n                      className={`transition-colors ${\n                        isManager ? \"hover:bg-blue-50 cursor-pointer\" : \"\"\n                      }`}\n                      onClick={() => handleEditPlayer(player)}\n                      title={isManager ? \"Click to edit\" : \"\"}\n                    >\n                      <td className=\"px-2 py-2 text-center text-lg font-medium text-gray-900 w-16\">\n                        #{i + 1}\n                      </td>\n                      <td className=\"px-2 py-2 text-center w-16\">\n                        <div className=\"w-6 h-6 bg-linear-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-sm mx-auto\">\n                          üë§\n                        </div>\n                      </td>\n                      <td className=\"px-3 py-2 text-lg text-gray-900\">\n                        {player.name}\n                      </td>\n                      <td className=\"px-2 py-2 text-center text-lg text-gray-900 w-20\">\n                        {player.points}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {/* Middle Column - Players 26-50 */}\n          <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\n            <div className=\"bg-gray-50 px-4 py-3 border-b\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Players 26-50\n              </h3>\n            </div>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-16\">\n                      Rank\n                    </th>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-16\">\n                      Photo\n                    </th>\n                    <th className=\"px-3 py-2 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                      Players\n                    </th>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-20\">\n                      Points\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {players.slice(25, 50).map((player, i) => (\n                    <tr\n                      key={player.id}\n                      className={`transition-colors ${\n                        isManager ? \"hover:bg-blue-50 cursor-pointer\" : \"\"\n                      }`}\n                      onClick={() => handleEditPlayer(player)}\n                      title={isManager ? \"Click to edit\" : \"\"}\n                    >\n                      <td className=\"px-2 py-2 text-center text-lg font-medium text-gray-900 w-16\">\n                        #{i + 26}\n                      </td>\n                      <td className=\"px-2 py-2 text-center w-16\">\n                        <div className=\"w-6 h-6 bg-linear-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-sm mx-auto\">\n                          üë§\n                        </div>\n                      </td>\n                      <td className=\"px-3 py-2 text-lg text-gray-900\">\n                        {player.name}\n                      </td>\n                      <td className=\"px-2 py-2 text-center text-lg text-gray-900 w-20\">\n                        {player.points}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {/* Right Column - Players 51-75 */}\n          <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\n            <div className=\"bg-gray-50 px-4 py-3 border-b\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Players 51-75\n              </h3>\n            </div>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-16\">\n                      Rank\n                    </th>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-16\">\n                      Photo\n                    </th>\n                    <th className=\"px-3 py-2 text-left text-base font-medium text-gray-500 uppercase tracking-wider\">\n                      Players\n                    </th>\n                    <th className=\"px-2 py-2 text-center text-base font-medium text-gray-500 uppercase tracking-wider w-20\">\n                      Points\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {players.slice(50, 75).map((player, i) => (\n                    <tr\n                      key={player.id}\n                      className={`transition-colors ${\n                        isManager ? \"hover:bg-blue-50 cursor-pointer\" : \"\"\n                      }`}\n                      onClick={() => handleEditPlayer(player)}\n                      title={isManager ? \"Click to edit\" : \"\"}\n                    >\n                      <td className=\"px-2 py-2 text-center text-lg font-medium text-gray-900 w-16\">\n                        #{i + 51}\n                      </td>\n                      <td className=\"px-2 py-2 text-center w-16\">\n                        <div className=\"w-6 h-6 bg-linear-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center text-sm mx-auto\">\n                          üë§\n                        </div>\n                      </td>\n                      <td className=\"px-3 py-2 text-lg text-gray-900\">\n                        {player.name}\n                      </td>\n                      <td className=\"px-2 py-2 text-center text-lg text-gray-900 w-20\">\n                        {player.points}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        {!loading && players.length === 0 && (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">üë•</div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              No players yet\n            </h3>\n            <p className=\"text-gray-600\">\n              Click &quot;Add Player&quot; to create your first player\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PlayersPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}