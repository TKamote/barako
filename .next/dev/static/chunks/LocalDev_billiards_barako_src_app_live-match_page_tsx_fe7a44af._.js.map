{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/davidonquit/LocalDev/billiards/barako/src/app/live-match/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport Image from \"next/image\";\nimport { useLive } from \"@/contexts/LiveContext\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { collection, getDocs, doc, setDoc, getDoc } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport PlayerSelectionModal from \"@/components/PlayerSelectionModal\";\n\ninterface Player {\n  id: string;\n  name: string;\n  photoURL?: string;\n  points: number;\n}\n\nconst BilliardsBall = ({\n  number,\n  isMobile = false,\n  isPocketed = false,\n  onClick,\n}: {\n  number: number;\n  isMobile?: boolean;\n  isPocketed?: boolean;\n  onClick?: () => void;\n}) => (\n  <div\n    onClick={!isPocketed ? onClick : undefined}\n    className={`${\n      isMobile ? \"w-8 h-8\" : \"w-12 h-12\"\n    } flex items-center justify-center transition-all ${\n      isPocketed\n        ? \"opacity-0 cursor-default\"\n        : \"cursor-pointer hover:scale-110\"\n    }`}\n  >\n    <Image\n      src={`/ballicons/ball-${number}.png`}\n      alt={`Ball ${number}`}\n      width={isMobile ? 32 : 48}\n      height={isMobile ? 32 : 48}\n      className=\"object-contain\"\n    />\n  </div>\n);\n\nconst LiveMatchPage = () => {\n  const { isLive, setIsLive } = useLive();\n  const { isManager } = useAuth();\n\n  // Player state\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [player1, setPlayer1] = useState<Player | null>(null);\n  const [player2, setPlayer2] = useState<Player | null>(null);\n  const [showPlayer1Modal, setShowPlayer1Modal] = useState(false);\n  const [showPlayer2Modal, setShowPlayer2Modal] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  // Score state\n  const [player1Score, setPlayer1Score] = useState(0);\n  const [player2Score, setPlayer2Score] = useState(0);\n  const [currentTurn, setCurrentTurn] = useState<\"player1\" | \"player2\" | null>(\n    null\n  );\n\n  // Ball state\n  const [pocketedBalls, setPocketedBalls] = useState<Set<number>>(new Set());\n\n  // Double-press R for reset tracking\n  const lastResetPress = useRef<number>(0);\n  const RESET_TIMEOUT = 500; // 500ms window for double-press\n\n  // Array of ball numbers 1-10\n  const ballNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\n  // Get player photo URL (returns null if no photo)\n  const getPlayer1Photo = () => {\n    return player1?.photoURL || null;\n  };\n\n  const getPlayer2Photo = () => {\n    return player2?.photoURL || null;\n  };\n\n  // Get player name or default\n  const getPlayer1Name = () => {\n    if (player1?.name) return player1.name;\n    return \"Dave\";\n  };\n\n  const getPlayer2Name = () => {\n    if (player2?.name) return player2.name;\n    return \"Joel\";\n  };\n\n  // Fetch players from Firestore\n  useEffect(() => {\n    const fetchPlayers = async () => {\n      try {\n        const playersCollection = collection(db, \"players\");\n        const playersSnapshot = await getDocs(playersCollection);\n        const playersList = playersSnapshot.docs.map((doc) => {\n          const data = doc.data();\n          return {\n            id: doc.id,\n            name: data.name || \"\",\n            photoURL: data.photoURL || \"\",\n            points: data.points || 0,\n          } as Player;\n        });\n\n        // Sort by points descending\n        const sortedPlayers = playersList.sort((a, b) => b.points - a.points);\n        setPlayers(sortedPlayers);\n      } catch (error) {\n        console.error(\"Error fetching players:\", error);\n      }\n    };\n\n    fetchPlayers();\n  }, []);\n\n  // Load persisted match data from Firestore\n  useEffect(() => {\n    const loadMatchData = async () => {\n      try {\n        const matchDocRef = doc(db, \"current_match\", \"live\");\n        const matchDoc = await getDoc(matchDocRef);\n\n        if (matchDoc.exists()) {\n          const matchData = matchDoc.data();\n\n          // Restore player 1\n          if (matchData.player1Id) {\n            if (players.length > 0) {\n              const p1 = players.find((p) => p.id === matchData.player1Id);\n              if (p1) {\n                setPlayer1(p1);\n              } else if (matchData.player1Name) {\n                setPlayer1({\n                  id: matchData.player1Id,\n                  name: matchData.player1Name,\n                  photoURL: matchData.player1PhotoURL || \"\",\n                  points: 0,\n                });\n              }\n            } else if (matchData.player1Name) {\n              setPlayer1({\n                id: matchData.player1Id,\n                name: matchData.player1Name,\n                photoURL: matchData.player1PhotoURL || \"\",\n                points: 0,\n              });\n            }\n          }\n\n          // Restore player 2\n          if (matchData.player2Id) {\n            if (players.length > 0) {\n              const p2 = players.find((p) => p.id === matchData.player2Id);\n              if (p2) {\n                setPlayer2(p2);\n              } else if (matchData.player2Name) {\n                setPlayer2({\n                  id: matchData.player2Id,\n                  name: matchData.player2Name,\n                  photoURL: matchData.player2PhotoURL || \"\",\n                  points: 0,\n                });\n              }\n            } else if (matchData.player2Name) {\n              setPlayer2({\n                id: matchData.player2Id,\n                name: matchData.player2Name,\n                photoURL: matchData.player2PhotoURL || \"\",\n                points: 0,\n              });\n            }\n          }\n\n          // Restore scores\n          if (matchData.player1Score !== undefined) {\n            setPlayer1Score(matchData.player1Score);\n          }\n          if (matchData.player2Score !== undefined) {\n            setPlayer2Score(matchData.player2Score);\n          }\n\n          // Restore pocketed balls\n          if (matchData.pocketedBalls && Array.isArray(matchData.pocketedBalls)) {\n            setPocketedBalls(new Set(matchData.pocketedBalls));\n          }\n\n          // Restore turn\n          if (matchData.currentTurn) {\n            setCurrentTurn(matchData.currentTurn);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error loading match data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadMatchData();\n  }, [players]);\n\n  // Update player objects when players array loads\n  useEffect(() => {\n    if (players.length > 0 && (player1?.id || player2?.id)) {\n      if (player1?.id) {\n        const freshP1 = players.find((p) => p.id === player1.id);\n        if (freshP1) {\n          if (!player1.photoURL || freshP1.photoURL !== player1.photoURL) {\n            setPlayer1(freshP1);\n          }\n        }\n      }\n\n      if (player2?.id) {\n        const freshP2 = players.find((p) => p.id === player2.id);\n        if (freshP2) {\n          if (!player2.photoURL || freshP2.photoURL !== player2.photoURL) {\n            setPlayer2(freshP2);\n          }\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [players]);\n\n  // Save match data to Firestore\n  const saveMatchData = async () => {\n    try {\n      const matchDocRef = doc(db, \"current_match\", \"live\");\n      await setDoc(\n        matchDocRef,\n        {\n          player1Id: player1?.id || null,\n          player2Id: player2?.id || null,\n          player1Name: player1?.name || \"Dave\",\n          player2Name: player2?.name || \"Joel\",\n          player1PhotoURL: player1?.photoURL || \"\",\n          player2PhotoURL: player2?.photoURL || \"\",\n          player1Score,\n          player2Score,\n          currentTurn,\n          pocketedBalls: Array.from(pocketedBalls),\n          updatedAt: new Date().toISOString(),\n        },\n        { merge: true }\n      );\n    } catch (error) {\n      console.error(\"Error saving match data:\", error);\n    }\n  };\n\n  // Handle player selection\n  const handlePlayer1Select = async (selectedPlayer: Player) => {\n    setPlayer1(selectedPlayer);\n    try {\n      const matchDocRef = doc(db, \"current_match\", \"live\");\n      await setDoc(\n        matchDocRef,\n        {\n          player1Id: selectedPlayer.id,\n          player1Name: selectedPlayer.name,\n          player1PhotoURL: selectedPlayer.photoURL || \"\",\n          updatedAt: new Date().toISOString(),\n        },\n        { merge: true }\n      );\n    } catch (error) {\n      console.error(\"Error saving player 1:\", error);\n    }\n  };\n\n  const handlePlayer2Select = async (selectedPlayer: Player) => {\n    setPlayer2(selectedPlayer);\n    try {\n      const matchDocRef = doc(db, \"current_match\", \"live\");\n      await setDoc(\n        matchDocRef,\n        {\n          player2Id: selectedPlayer.id,\n          player2Name: selectedPlayer.name,\n          player2PhotoURL: selectedPlayer.photoURL || \"\",\n          updatedAt: new Date().toISOString(),\n        },\n        { merge: true }\n      );\n    } catch (error) {\n      console.error(\"Error saving player 2:\", error);\n    }\n  };\n\n  // Save scores when they change\n  useEffect(() => {\n    if (!loading) {\n      saveMatchData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [player1Score, player2Score, currentTurn, loading, player1, player2, pocketedBalls]);\n\n  // Handle ball click - removes/pockets the ball\n  const handleBallClick = (ballNumber: number) => {\n    setPocketedBalls((prev) => {\n      const newSet = new Set(prev);\n      newSet.add(ballNumber);\n      return newSet;\n    });\n  };\n\n  // Reset all balls for a new game\n  const handleResetBalls = () => {\n    setPocketedBalls(new Set());\n  };\n\n  // Keyboard shortcuts handler\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      // Ignore if user is typing in an input field\n      if (\n        e.target instanceof HTMLInputElement ||\n        e.target instanceof HTMLTextAreaElement\n      ) {\n        return;\n      }\n\n      // Handle Tab key separately (before lowercasing)\n      if (e.key === \"Tab\") {\n        e.preventDefault();\n        setCurrentTurn((prev) => {\n          if (prev === \"player1\") return \"player2\";\n          return \"player1\"; // Handles both \"player2\" and null\n        });\n        return;\n      }\n\n      const key = e.key.toLowerCase();\n\n      switch (key) {\n        case \"q\":\n          // Increment Player 1 score\n          setPlayer1Score((prev) => prev + 1);\n          break;\n\n        case \"a\":\n          // Decrement Player 1 score (prevent negative)\n          setPlayer1Score((prev) => Math.max(0, prev - 1));\n          break;\n\n        case \"e\":\n          // Increment Player 2 score\n          setPlayer2Score((prev) => prev + 1);\n          break;\n\n        case \"d\":\n          // Decrement Player 2 score (prevent negative)\n          setPlayer2Score((prev) => Math.max(0, prev - 1));\n          break;\n\n        case \"z\":\n          // Z â†’ Reset indicator to no turn\n          e.preventDefault();\n          setCurrentTurn(null);\n          break;\n\n        case \"r\":\n          // Double-press R to reset scores\n          e.preventDefault();\n          const now = Date.now();\n          if (now - lastResetPress.current < RESET_TIMEOUT) {\n            // Double-press detected - reset scores\n            setPlayer1Score(0);\n            setPlayer2Score(0);\n            setCurrentTurn(null); // Reset turn indicator\n            lastResetPress.current = 0; // Reset counter\n          } else {\n            // First press - record timestamp\n            lastResetPress.current = now;\n          }\n          break;\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n    return () => window.removeEventListener(\"keydown\", handleKeyPress);\n  }, []);\n\n  // Determine if player selection should be enabled\n  const canSelectPlayers = isManager && !isLive;\n\n  return (\n    <div className=\"min-h-screen bg-transparent relative\">\n      {/* Header with Live Button and Balls */}\n      <div className=\"flex justify-between items-start p-2 sm:p-4\">\n        {/* Mobile: Live Button and Balls on left side vertically */}\n        <div className=\"flex flex-col sm:hidden items-start space-y-2\">\n          {/* Live Toggle Button - Mobile */}\n          <button\n            onClick={() => setIsLive(!isLive)}\n            className={`px-4 py-2 rounded-lg font-bold text-sm transition-all duration-300 transform hover:scale-105 ${\n              isLive\n                ? \"bg-red-600 hover:bg-red-700 text-white animate-pulse-live inline-flex items-center\"\n                : \"bg-green-600 hover:bg-green-700 text-white\"\n            }`}\n          >\n            {isLive ? (\n              <>\n                <span className=\"mr-1\">ðŸ”´</span>\n                LIVE\n              </>\n            ) : (\n              \"GO LIVE\"\n            )}\n          </button>\n\n          {/* Mobile: Billiards Balls - Vertical (All 10) */}\n          <div className=\"bg-gray-800 rounded-full px-2 py-1\">\n            <div className=\"flex flex-col space-y-1\">\n              {ballNumbers.map((ballNumber) => (\n                <BilliardsBall\n                  key={ballNumber}\n                  number={ballNumber}\n                  isMobile={true}\n                  isPocketed={pocketedBalls.has(ballNumber)}\n                  onClick={() => handleBallClick(ballNumber)}\n                />\n              ))}\n            </div>\n          </div>\n          {/* Reset Balls Button - Mobile */}\n          <button\n            onClick={handleResetBalls}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors opacity-60 hover:opacity-100 text-xs mt-1\"\n            title=\"Reset all balls\"\n          >\n            Reset Balls\n          </button>\n        </div>\n\n        {/* Desktop: Right side - Live Button and Balls */}\n        <div className=\"hidden sm:flex sm:flex-col sm:items-end sm:space-y-4\">\n          {/* Live Toggle Button - Desktop */}\n          <button\n            onClick={() => setIsLive(!isLive)}\n            className={`px-6 py-3 rounded-lg font-bold text-lg transition-all duration-300 transform hover:scale-105 ${\n              isLive\n                ? \"bg-red-600 hover:bg-red-700 text-white animate-pulse-live inline-flex items-center\"\n                : \"bg-green-600 hover:bg-green-700 text-white\"\n            }`}\n          >\n            {isLive ? (\n              <>\n                <span className=\"mr-2\">ðŸ”´</span>\n                LIVE\n              </>\n            ) : (\n              \"GO LIVE\"\n            )}\n          </button>\n\n          {/* Billiards Balls - Vertical Desktop (All 10) */}\n          <div\n            className=\"bg-gray-800 rounded-full px-2 py-2\"\n            style={{ marginRight: \"20px\", marginTop: \"50px\" }}\n          >\n            <div className=\"flex flex-col space-y-2\">\n              {ballNumbers.map((ballNumber) => (\n                <BilliardsBall\n                  key={ballNumber}\n                  number={ballNumber}\n                  isPocketed={pocketedBalls.has(ballNumber)}\n                  onClick={() => handleBallClick(ballNumber)}\n                />\n              ))}\n            </div>\n          </div>\n          {/* Reset Balls Button - Desktop */}\n          <button\n            onClick={handleResetBalls}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors opacity-60 hover:opacity-100 text-sm mt-2\"\n            style={{ marginRight: \"20px\" }}\n            title=\"Reset all balls\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth={2}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Score Display - Fixed at Bottom */}\n      <div className=\"fixed bottom-2 sm:bottom-4 left-0 right-0 z-40\">\n        <div className=\"flex justify-center\">\n          <div className=\"bg-linear-to-r from-purple-900 via-purple-800 to-purple-900 rounded-xl py-2 px-4 sm:py-4 sm:px-12 shadow-2xl max-w-4xl w-full mx-2 sm:mx-8 relative overflow-hidden\">\n            <div className=\"absolute inset-0 bg-linear-to-r from-yellow-400/10 via-transparent to-yellow-400/10\"></div>\n            <div className=\"relative z-10\">\n              {/* Mobile Layout */}\n              <div className=\"sm:hidden\">\n                <div className=\"flex justify-between items-center\">\n                  <button\n                    onClick={() => canSelectPlayers && setShowPlayer1Modal(true)}\n                    disabled={!canSelectPlayers}\n                    className={`flex items-center space-x-2 ${\n                      canSelectPlayers\n                        ? \"cursor-pointer hover:opacity-80\"\n                        : \"cursor-default\"\n                    } transition-opacity`}\n                  >\n                    <div className=\"text-3xl\">\n                      {getPlayer1Photo() ? (\n                        <Image\n                          src={getPlayer1Photo()!}\n                          alt={getPlayer1Name()}\n                          width={32}\n                          height={32}\n                          className=\"w-8 h-8 rounded-full object-cover\"\n                          unoptimized\n                        />\n                      ) : (\n                        \"ðŸ‘¨\"\n                      )}\n                    </div>\n                    <div className=\"text-xl font-bold text-white\">\n                      {getPlayer1Name()}\n                    </div>\n                  </button>\n\n                  <div className=\"flex flex-col items-center\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-2xl font-bold text-white\">\n                        {player1Score}\n                      </div>\n                      <div className=\"text-2xl font-bold text-white\">-</div>\n                      <div className=\"text-2xl font-bold text-white\">\n                        {player2Score}\n                      </div>\n                    </div>\n                    <div className=\"text-sm font-semibold text-white mt-1\">\n                      Race to 9\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={() => canSelectPlayers && setShowPlayer2Modal(true)}\n                    disabled={!canSelectPlayers}\n                    className={`flex items-center space-x-2 ${\n                      canSelectPlayers\n                        ? \"cursor-pointer hover:opacity-80\"\n                        : \"cursor-default\"\n                    } transition-opacity`}\n                  >\n                    <div className=\"text-xl font-bold text-white\">\n                      {getPlayer2Name()}\n                    </div>\n                    <div className=\"text-3xl\">\n                      {getPlayer2Photo() ? (\n                        <Image\n                          src={getPlayer2Photo()!}\n                          alt={getPlayer2Name()}\n                          width={32}\n                          height={32}\n                          className=\"w-8 h-8 rounded-full object-cover\"\n                          unoptimized\n                        />\n                      ) : (\n                        \"ðŸ‘©\"\n                      )}\n                    </div>\n                  </button>\n                </div>\n              </div>\n\n              {/* Desktop Layout */}\n              <div className=\"hidden sm:block\">\n                <div className=\"flex justify-between items-center\">\n                  <button\n                    onClick={() => canSelectPlayers && setShowPlayer1Modal(true)}\n                    disabled={!canSelectPlayers}\n                    className={`flex items-center space-x-4 ${\n                      canSelectPlayers\n                        ? \"cursor-pointer hover:opacity-80\"\n                        : \"cursor-default\"\n                    } transition-opacity ${\n                      currentTurn === \"player1\"\n                        ? \"ring-4 ring-yellow-400/50 rounded-lg p-2\"\n                        : \"\"\n                    }`}\n                  >\n                    <div className=\"text-6xl\">\n                      {getPlayer1Photo() ? (\n                        <Image\n                          src={getPlayer1Photo()!}\n                          alt={getPlayer1Name()}\n                          width={64}\n                          height={64}\n                          className=\"w-16 h-16 rounded-full object-cover\"\n                          unoptimized\n                        />\n                      ) : (\n                        \"ðŸ‘¨\"\n                      )}\n                    </div>\n                    <div className=\"text-4xl font-bold text-white\">\n                      {getPlayer1Name()}\n                    </div>\n                  </button>\n\n                  <div className=\"flex flex-col items-center\">\n                    <div className=\"flex items-center space-x-8\">\n                      <div className=\"text-4xl font-bold text-white\">\n                        {player1Score}\n                      </div>\n                      <div className=\"text-4xl font-bold text-white\">-</div>\n                      <div className=\"text-4xl font-bold text-white\">\n                        {player2Score}\n                      </div>\n                    </div>\n                    <div className=\"text-lg font-semibold text-white mt-1\">\n                      Race to 9\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={() => canSelectPlayers && setShowPlayer2Modal(true)}\n                    disabled={!canSelectPlayers}\n                    className={`flex items-center space-x-4 ${\n                      canSelectPlayers\n                        ? \"cursor-pointer hover:opacity-80\"\n                        : \"cursor-default\"\n                    } transition-opacity ${\n                      currentTurn === \"player2\"\n                        ? \"ring-4 ring-yellow-400/50 rounded-lg p-2\"\n                        : \"\"\n                    }`}\n                  >\n                    <div className=\"text-4xl font-bold text-white\">\n                      {getPlayer2Name()}\n                    </div>\n                    <div className=\"text-6xl\">\n                      {getPlayer2Photo() ? (\n                        <Image\n                          src={getPlayer2Photo()!}\n                          alt={getPlayer2Name()}\n                          width={64}\n                          height={64}\n                          className=\"w-16 h-16 rounded-full object-cover\"\n                          unoptimized\n                        />\n                      ) : (\n                        \"ðŸ‘©\"\n                      )}\n                    </div>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* OBS Integration Instructions - Bottom */}\n      <div className=\"fixed bottom-1 left-2 right-2 sm:left-4 sm:right-4 z-30\">\n        <div className=\"bg-black/80 text-white text-xs p-1 sm:p-2 rounded text-center\">\n          <div className=\"hidden sm:block\">\n            <strong>OBS Integration:</strong> Use Browser Source with URL:{\" \"}\n            <code className=\"bg-gray-700 px-1 rounded\">\n              {typeof window !== \"undefined\"\n                ? window.location.href\n                : \"localhost:3000/live-match\"}\n            </code>{\" \"}\n            | Size: 1920x1080 | FPS: 60\n          </div>\n          <div className=\"sm:hidden text-xs\">\n            <strong>OBS:</strong> Browser Source | 1920x1080 | 60fps\n          </div>\n        </div>\n      </div>\n\n      {/* Barako Logo - Bottom Left */}\n      <div\n        className=\"fixed z-50 hidden sm:block\"\n        style={{\n          bottom: \"5px\",\n          left: \"50px\",\n        }}\n      >\n        <Image\n          src=\"/favicon.png\"\n          alt=\"Barako Logo\"\n          width={130}\n          height={130}\n          style={{\n            filter: \"drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.3))\",\n            borderRadius: \"10px\",\n          }}\n        />\n      </div>\n\n      {/* Mobile Logo - Centered */}\n      <div className=\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 sm:hidden\">\n        <Image\n          src=\"/favicon.png\"\n          alt=\"Barako Logo\"\n          width={156}\n          height={156}\n          style={{\n            filter: \"drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.3))\",\n            borderRadius: \"10px\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default LiveMatchPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}